/*!
 *  donkeyGallery - [v1.2.1]
 *  asynchronous ajax/php dynamic gallery
 *  http://factory.brainleaf.eu/donkeyGallery/
 */
!function(a){function b(b,e){this.element=b,this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="donkeyGallery",d={webservice:"dnk-gallery/php/gallery.webservice.php",galleryPath:"dnk-gallery/images/",subdomain:"",style:"default",color:"default",fluidStyle:{active:!1,columns:4,responsive:!1,imgReplacement:!1},thumbs:{thumbW:150,thumbH:150,thumbsGen:!1},fancybox:{active:!0,galleryGroup:"donkeyGallery",linkClass:"dnk-gallery-link"},pagination:{active:!0,pageItems:4}};b.prototype={init:function(){console.log("jquery.donkeyGallery.js initialized for #"+this.element.id),this.donkeyGall(this.element,this.settings)},donkeyGall:function(b,c){a(b).addClass("dnk-gallery-loader");var d={};d.thumbw=c.thumbs.thumbW,d.thumbh=c.thumbs.thumbH,d.thumbsgen=c.thumbs.thumbsGen,d.gallerypath=c.galleryPath,d.elementid=b.id,d.subdomain=c.subdomain,d.responsive=c.fluidStyle.responsive,a.ajax({url:c.webservice,type:"post",data:d,dataType:"json",success:function(d){var e="",f="";if(1==c.fluidStyle.active){e='<div class="innerbox">',f="</div>";var g="";switch(c.fluidStyle.columns){case 1:g="fluid-100";break;case 2:g="fluid-50";break;case 3:g="fluid-33";break;case 4:g="fluid-25";break;case 5:g="fluid-20";break;case 10:g="fluid-10";break;default:g="fluid-25"}}1==c.fluidStyle.responsive&&(g+=" fluid-responsive");var h='<div class="dnk-gallery">';switch(h+=1==c.fluidStyle.active?'<ul class="dnk-gallery-list fluid '+g+'">':'<ul class="dnk-gallery-list">',c.fancybox.active){case!1:for(var i=Object.keys(d.jsonNoFancy).length,j=0;i>j;j++)h+="<li>"+e+d.jsonNoFancy[j]+f+"</li>";break;case!0:for(var i=Object.keys(d.jsonFancy).length,j=0;i>j;j++)h+="<li>"+e+d.jsonFancy[j]+f+"</li>"}h+="</ul>",h+="</div>",a(b).html(h),"default"!=c.style&&(a(b).find("ul").addClass(c.style),a(b).find("ul").addClass(c.color)),a(b).find("a").addClass(c.fancybox.linkClass),a(b).find("a").attr("rel",c.fancybox.galleryGroup),a(b).find("a."+c.fancybox.linkClass).fancybox(),1==c.fluidStyle.imgReplacement&&a(b).find("img").HDimg(),1==c.pagination.active&&(a(b).find("ul").easyPaginate({step:c.pagination.pageItems,controls:"pagination-"+b.id,current:"active"}),"default"!=c.style&&(a(b).find("ul").next("ol").addClass(c.style),a(b).find("ul").next("ol").addClass(c.color))),setTimeout(function(){a(b).removeClass("dnk-gallery-loader"),a(b).find(".dnk-gallery").fadeIn()},1e3)},error:function(){console.log("ajax error")}})}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);